import org.objectweb.asm.ClassReader;
import org.objectweb.asm.ClassWriter;

import java.lang.instrument.ClassFileTransformer;
import java.lang.instrument.IllegalClassFormatException;
import java.security.ProtectionDomain;

public class MyClassFileTransformer implements ClassFileTransformer{
    public byte[] transform(ClassLoader loader, String className, Class<?> classBeingRedefined,
                            ProtectionDomain protectionDomain, byte[] bytes)
            throws IllegalClassFormatException {
            
            if (#what to put here#){
                //Based on code for agent in reference [5]
                //Not sure what to put for the if statment
                ClassReader reader = new ClassReader(bytes);
                ClassWriter writer = new ClassWriter(ClassWriter.COMPUTE_FRAMES);
                ClassTransformVisitor visitor = new ClassTransformVisitor(writer);
                reader.accept(visitor, 0);
                return writer.toByteArray();
            }
            
            return bytes; //null?

    }
}
